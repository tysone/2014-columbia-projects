
<!doctype html>
<html lang="en">
<head>

    <title>School lunches in NYC public schools</title>
<link href='http://fonts.googleapis.com/css?family=Josefin+Slab|Amatic+SC' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/bigvideo-demo.css">
    <link rel="stylesheet" href="css/bigvideo.css">
    <link rel="stylesheet" href="styles.css">
    <script src="js/modernizr-2.5.3.min.js"></script>
    <link href='http://cdn.knightlab.com/libs/soundcite/latest/css/player.css' rel='stylesheet' type='text/css'>
    <script type='text/javascript' src='http://connect.soundcloud.com/sdk.js'></script>
    <script type='text/javascript' src='http://cdn.knightlab.com/libs/soundcite/latest/js/soundcite.min.js'></script>
        
        

    
</head>
<body>


 

    <div class="wrapper">
        <div class="screen" id="screen-1" data-video="vid/pointserve.mp4">
            <div id="overview" class="box"><h1>No such thing as a free lunch</h1></div>
        <div id="text" class="box"><h3>New York City's new mayor, Bill de Blasio, came to power promising to make school lunches free for all public school children.</h3>
        <h3>De Blasio's first executive city budget, released on May 9, did not include the free school lunch program, but the mayor says he hopes to implement it in the future.</h3> 
        <h3>It's report card time: how does the current school lunches program measure up?</h3></div>
        <img src="img/pointserve.png" class="big-image"/></div>
        
        <div class="screen" id="screen-2" data-video="vid/kidseat_1.mp4">
            <div id="freefree" class="heading"><h2>"Free-free"</h2></div>
            <div id="text2" class="box"><h3>Around 780,000 of the 1.1 million children currently enrolled in NYC public schools qualify for a free or reduced-price lunch (which costs parents $0.70) due to their family's incomes, but only 530,000 of those children are enrolled in the program. One reason, says the City Council, is the stigma attached to free lunches.</h3>

            <h3>For years, school lunches have been dubbed "free-free", meaning some children avoid them because of teasing from other kids, <span class="soundcite" data-id="149231851" data-start="0" data-end="6843">explains Karina Heath</span>, a 15-year-old student at Brooklyn's Urban Assembly School for Music and Art.</h3></div>
            <img src="img/kidseat_1.png" class="big-image" />
        </div>
        
            
        
        <div class="screen" id="screen-3" data-video="vid/salada.mp4">
            <div id="cutthefat" class="heading"><h2>Cut the fat</h2></div>
            <div id="text3" class="box"><h3>About 18 percent of children and teenagers in the United States are obese or overweight, according to the American Heart Association. First Lady Michelle Obamaâ€™s "Let's Move!" campaign has been pushing for healthier school lunches since 2010.</h3> 
            <h3>In 2012, new federal regulations were imposed to standardize portion and calorie sizes across the country. But strict federal regulations to improve the healthiness of school lunches ironically can make it more difficult to improve the menu in an individual school, <span class="soundcite" data-id="149269093" data-start="0" data-end="10762">says Midtown West Principal Ryan Bourke.</span></h3></div>
            <img src="img/salad.png" class="big-image" />
        </div>

        <div class="screen" id="screen-4" data-video="vid/pizza.mp4">
            <div id="hatepizza" class="heading"><h2>Pizza crazy</h2></div>
               <div id="text4" class="box"><h3>Each menu, made monthly by New York's Department of Education, includes five components: a meat component or its alternative, fruit, vegetable, grain and milk. A child must choose at least three of these.</h3>
                <h3>The most common hot food served in New York City public schools is cheese pizza. Pizza counts as a grain and as a meat alternative, as the melted cheese is protein. For some kids, says Zachary Maxwell, director of "Yuck! A 4th Grader's Short Documentary about School Lunches", <span class="soundcite" data-id="149284347" data-start="0" data-end="18000">the pizza is the only thing eaten.</span></h3></div>
            <img src="img/pizza.png" class="big-image"/></div>
        
        <div class="screen" id="screen-5" data-video="vid/feet.mp4">
            <div id="hungry" class="heading"><h2>Hungry mouths to feed</h2></div>
            <div id="text5" class="box"><h3>City Council estimates the free lunch program will cost between $20-24 million to implement across the city, with the current school food budget, and de Blasio also wants to increase the free breakfast program to all schools across the city. Currently only 35% of eligible New Yorker children receive the free daily breakfast, compared to 95% of eligible school kids from New Jersey.</h3>

            <h3>Why does school food matter so much? For many New York City schoolchildren, <span class="soundcite" data-id="149283860" data-start="0" data-end="10606">it's the only meal they receive all day.</span></h3></div>
            <div id="author" class="box"><p><strong>Design</strong>: Amber Jamieson<br/> <strong>Text</strong>: Amber Jamieson and Marie-Jose Daoud</p></div>
            <img src="img/kidsfeetwide.png" class="big-image" />
        </div>
    </div>

    <nav id="next-btn">
        <a href="#" class="next-icon"></a>
    </nav>

    <!-- BigVideo Dependencies -->
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script> 
   <script src="js/jquery-ui-1.8.22.custom.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.8.1.min.js"><\/script>')</script> 
    
    <script src="js/jquery.imagesloaded.min.js"></script>
    <script src="http://vjs.zencdn.net/c/video.js"></script> 



    <!-- BigVideo -->
    <script src="js/bigvideo.js"></script> 

    <!-- Tutorial Demo -->
   <script src="js/jquery.transit.min.js"></script>
    <script>
        

        $(function() {

            // Use Modernizr to detect for touch devices, 
            // which don't support autoplay and may have less bandwidth, 
            // so just give them the poster images instead
            var screenIndex = 1,
                numScreens = $('.screen').length,
                isTransitioning = false,
                transitionDur = 1000,
                BV,
                videoPlayer,
                isTouch = Modernizr.touch,
                $bigImage = $('.big-image'),
                $window = $(window);
            
            if (!isTouch) {
                // initialize BigVideo
                BV = new $.BigVideo({forceAutoplay:isTouch});
                BV.init();
                showVideo();
                
                BV.getPlayer().addEvent('loadeddata', function() {
                    onVideoLoaded();
                });

                // adjust image positioning so it lines up with video
                $bigImage
                    .css('position','relative')
                    .imagesLoaded(adjustImagePositioning);
                // and on window resize
                $window.on('resize', adjustImagePositioning);
            }
            
            // Next button click goes to next div
            $('#next-btn').on('click', function(e) {
                e.preventDefault();
                if (!isTransitioning) {
                    next();
                }
            });

            function showVideo() {
                BV.show($('#screen-'+screenIndex).attr('data-video'),{ambient:true});
            }

            function next() {
                isTransitioning = true;
                
                // update video index, reset image opacity if starting over
                if (screenIndex === numScreens) {
                    $bigImage.css('opacity',1);
                    screenIndex = 1;
                } else {
                    screenIndex++;
                }
                
                if (!isTouch) {
                    $('#big-video-wrap').transit({'left':'-100%'},transitionDur);
                }
                    

                    
                (Modernizr.csstransitions)?
                    $('.wrapper').transit(
                        {'left':'-'+(100*(screenIndex-1))+'%'},
                        transitionDur,
                        onTransitionComplete):
                      onTransitionComplete();
                  
            }

            function onVideoLoaded() {
                $('#screen-'+screenIndex).find('.big-image').transit({'opacity':0},500);
            }

            function onTransitionComplete() {
                isTransitioning = false;
                if (!isTouch) {
                    $('#big-video-wrap').css('left',0);
                    showVideo();
                }
            }

            function adjustImagePositioning() {
                $bigImage.each(function(){
                    var $img = $(this),
                        img = new Image();

                    img.src = $img.attr('src');

                    var windowWidth = $window.width(),
                        windowHeight = $window.height(),
                        r_w = windowHeight / windowWidth,
                        i_w = img.width,
                        i_h = img.height,
                        r_i = i_h / i_w,
                        new_w, new_h, new_left, new_top;

                    if( r_w > r_i ) {
                        new_h   = windowHeight;
                        new_w   = windowHeight / r_i;
                    }
                    else {
                        new_h   = windowWidth * r_i;
                        new_w   = windowWidth;
                    }

                    $img.css({
                        width   : new_w,
                        height  : new_h,
                        left    : ( windowWidth - new_w ) / 2,
                        top     : ( windowHeight - new_h ) / 2
                    });

                });

            }
        });
    </script>

</body>
</html>